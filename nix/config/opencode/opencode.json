{
  "$schema": "https://opencode.ai/config.json",
  "model": "firmware/gemini-3-flash-preview",
  "small_model": "opencode/gpt-5-nano",
  "disabled_providers": [
    "openrouter"
  ],
  "instructions": [
    "~/.config/opencode/instructions/shell_strategy.md",
    "./instructions/tool_preference.md"
  ],
  "mcp": {
    "context7": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "@upstash/context7-mcp",
        "--api-key",
        "{env:CONTEXT7_API_KEY}"
      ],
      "enabled": true
    }
  },
  "agent": {
    "plan": {
      "model": "firmware/gpt-5.2",
      "prompt": "{file:./prompts/plan.txt}",
      "permission": {
        "edit": {
          "*.md": "ask",
          "*": "deny"
        }
      }
    },
    "smart": {
      "model": "firmware/claude-opus-4-5",
      "prompt": "{file:./prompts/smart.txt}",
      "permission": {
        "question": "allow",
        "edit": {
          "*": "allow"
        },
        "bash": {
          "*": "ask",
          "cd *": "allow",
          "ls*": "allow",
          "eza*": "allow",
          "grep*": "allow",
          "rg *": "allow",
          "cat *": "allow",
          "bat *": "allow",
          "head *": "allow",
          "tail *": "allow",
          "find *": "allow",
          "fd *": "allow",
          "tree*": "allow",
          "pwd": "allow",
          "which *": "allow",
          "whereis *": "allow",
          "echo *": "allow",
          "printf *": "allow",
          "git *": "ask",
          "git status*": "allow",
          "git log*": "allow",
          "git diff*": "allow",
          "git show*": "allow",
          "git branch": "allow",
          "git branch -?": "allow",
          "git branch --list*": "allow",
          "git branch --all": "allow",
          "git branch --remote": "allow",
          "git remote": "allow",
          "git remote -v": "allow",
          "git remote show *": "allow",
          "git remote get-url *": "allow",
          "git fetch*": "allow",
          "git --no-pager *": "allow",
          "git ls-files*": "allow",
          "npm test*": "allow",
          "npm run test*": "allow",
          "npm run build*": "allow",
          "npm run lint*": "allow",
          "npm run check*": "allow",
          "npm run dev*": "ask",
          "npm install*": "ask",
          "npm ci*": "ask",
          "bun test*": "allow",
          "bun run test*": "allow",
          "bun run build*": "allow",
          "bun run lint*": "allow",
          "bun run check*": "allow",
          "bun run dev*": "ask",
          "bun install*": "ask",
          "bunx*": "ask",
          "npx*": "ask",
          "node*": "allow",
          "python*": "allow",
          "go test*": "allow",
          "go build*": "allow",
          "docker ps*": "allow",
          "docker images*": "allow",
          "docker inspect*": "allow",
          "docker logs*": "allow",
          "rm *": "ask",
          "mv *": "ask",
          "cp *": "ask"
        }
      }
    },
    "build": {
      "mode": "all",
      "model": "firmware/claude-sonnet-4-5-20250929",
      "prompt": "{file:./prompts/build.txt}",
      "permission": {
        "bash": {
          "*": "ask",
          "cd *": "allow",
          "ls*": "allow",
          "eza*": "allow",
          "grep*": "allow",
          "rg *": "allow",
          "cat *": "allow",
          "bat *": "allow",
          "head *": "allow",
          "tail *": "allow",
          "find *": "allow",
          "fd *": "allow",
          "tree*": "allow",
          "pwd": "allow",
          "which *": "allow",
          "whereis *": "allow",
          "echo *": "allow",
          "printf *": "allow",
          "git *": "ask",
          "git status*": "allow",
          "git log*": "allow",
          "git diff*": "allow",
          "git show*": "allow",
          "git branch": "allow",
          "git branch -?": "allow",
          "git branch --list*": "allow",
          "git branch --all": "allow",
          "git branch --remote": "allow",
          "git remote": "allow",
          "git remote -v": "allow",
          "git remote show *": "allow",
          "git remote get-url *": "allow",
          "git fetch*": "allow",
          "git --no-pager *": "allow",
          "git ls-files*": "allow",
          "npm test*": "allow",
          "npm run test*": "allow",
          "npm run build*": "allow",
          "npm run lint*": "allow",
          "npm run check*": "allow",
          "npm run dev*": "ask",
          "npm install*": "ask",
          "npm ci*": "ask",
          "bun test*": "allow",
          "bun run test*": "allow",
          "bun run build*": "allow",
          "bun run lint*": "allow",
          "bun run check*": "allow",
          "bun run dev*": "ask",
          "bun install*": "ask",
          "bunx*": "ask",
          "npx*": "ask",
          "node*": "allow",
          "python*": "allow",
          "go test*": "allow",
          "go build*": "allow",
          "docker ps*": "allow",
          "docker images*": "allow",
          "docker inspect*": "allow",
          "docker logs*": "allow",
          "rm *": "ask",
          "mv *": "ask",
          "cp *": "ask"
        }
      }
    },
    "librarian": {
      "mode": "subagent",
      "model": "firmware/gpt-5.2",
      "prompt": "{file:./prompts/librarian.txt}",
      "permission": {
        "bash": {
          "*": "deny"
        }
      }
    },
    "explore": {
      "model": "firmware/gpt-5.2"
    }
  }
}
