{
  "$schema": "https://opencode.ai/config.json",
  "model": "firmware/gemini-3-flash-preview",
  "small_model": "opencode/gpt-5-nano",
  "disabled_providers": [
    "openrouter"
  ],
  "instructions": [
    "~/.config/opencode/instructions/shell_strategy.md",
    "./instructions/tool_preference.md"
  ],
  "mcp": {
    "context7": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "@upstash/context7-mcp",
        "--api-key",
        "{env:CONTEXT7_API_KEY}"
      ],
      "enabled": true
    }
  },
  "agent": {
    "plan": {
      "model": "firmware/gpt-5.2",
      "prompt": "{file:./prompt/plan.md}",
      "permission": {
        "edit": {
          "*.md": "ask",
          "*": "deny"
        }
      }
    },
    "smart": {
      "model": "firmware/claude-opus-4-5",
      "prompt": "{file:./prompt/smart.md}",
      "permission": {
        "question": "allow",
        "edit": {
          "*": "allow"
        },
        "bash": {
          "cd*": "allow",
          "ls*": "allow",
          "exa*": "allow",
          "grep*": "allow",
          "rg*": "allow",
          "cat*": "allow",
          "bat*": "allow",
          "head*": "allow",
          "tail*": "allow",
          "find*": "allow",
          "fd*": "allow",
          "tree*": "allow",
          "pwd*": "allow",
          "which*": "allow",
          "whereis*": "allow",
          "echo*": "allow",
          "printf*": "allow",
          "git log*": "allow",
          "git diff*": "allow",
          "git --no-pager diff*": "allow",
          "git show*": "allow",
          "git status*": "allow",
          "git branch": "allow",
          "git branch -a": "allow",
          "git branch --all": "allow",
          "git branch -r": "allow",
          "git branch --remote": "allow",
          "git branch -l*": "allow",
          "git branch --list*": "allow",
          "git branch *": "ask",
          "git remote": "allow",
          "git remote -v": "allow",
          "git remote --verbose": "allow",
          "git remote show*": "allow",
          "git remote get-url*": "allow",
          "git remote *": "ask",
          "git fetch*": "allow",
          "git pull*": "ask",
          "git *": "ask",
          "npm test*": "allow",
          "npm run test*": "allow",
          "npm run build*": "allow",
          "npm run lint*": "allow",
          "npm run check*": "allow",
          "npm run dev*": "ask",
          "npm install*": "ask",
          "npm ci*": "ask",
          "bun test*": "allow",
          "bun run test*": "allow",
          "bun run build*": "allow",
          "bun run lint*": "allow",
          "bun run check*": "allow",
          "bun run dev*": "ask",
          "bun install*": "ask",
          "bunx*": "ask",
          "npx*": "ask",
          "node*": "allow",
          "python*": "allow",
          "go test*": "allow",
          "go build*": "allow",
          "docker ps*": "allow",
          "docker images*": "allow",
          "docker inspect*": "allow",
          "docker logs*": "allow",
          "rm *": "ask",
          "mv *": "ask",
          "cp *": "ask",
          "*": "ask"
        }
      }
    },
    "build": {
      "mode": "all",
      "model": "firmware/claude-sonnet-4-5-20250929",
      "prompt": "{file:./prompt/build.md}",
      "permission": {
        "bash": {
          "*": "ask",
          "cd*": "allow",
          "ls*": "allow",
          "exa*": "allow",
          "grep*": "allow",
          "rg*": "allow",
          "cat*": "allow",
          "bat*": "allow",
          "head*": "allow",
          "tail*": "allow",
          "find*": "allow",
          "fd*": "allow",
          "tree*": "allow",
          "pwd*": "allow",
          "which*": "allow",
          "whereis*": "allow",
          "echo*": "allow",
          "printf*": "allow",
          "git log*": "allow",
          "git diff*": "allow",
          "git --no-pager diff*": "allow",
          "git show*": "allow",
          "git status*": "allow",
          "git branch": "allow",
          "git branch -a": "allow",
          "git branch --all": "allow",
          "git branch -r": "allow",
          "git branch --remote": "allow",
          "git branch -l*": "allow",
          "git branch --list*": "allow",
          "git branch *": "ask",
          "git remote": "allow",
          "git remote -v": "allow",
          "git remote --verbose": "allow",
          "git remote show*": "allow",
          "git remote get-url*": "allow",
          "git remote *": "ask",
          "git fetch*": "allow",
          "git pull*": "ask",
          "git *": "ask",
          "npm test*": "allow",
          "npm run test*": "allow",
          "npm run build*": "allow",
          "npm run lint*": "allow",
          "npm run check*": "allow",
          "npm run dev*": "ask",
          "npm install*": "ask",
          "npm ci*": "ask",
          "bun test*": "allow",
          "bun run test*": "allow",
          "bun run build*": "allow",
          "bun run lint*": "allow",
          "bun run check*": "allow",
          "bun run dev*": "ask",
          "bun install*": "ask",
          "bunx*": "ask",
          "npx*": "ask",
          "node*": "allow",
          "python*": "allow",
          "go test*": "allow",
          "go build*": "allow",
          "docker ps*": "allow",
          "docker images*": "allow",
          "docker inspect*": "allow",
          "docker logs*": "allow",
          "rm *": "ask",
          "mv *": "ask",
          "cp *": "ask"
        }
      }
    },
    "code-reviewer": {
      "model": "firmware/gpt-5.2",
      "prompt": "{file:./prompt/code-reviewer.md}",
      "permission": {
        "bash": {
          "*": "ask",
          "git log *": "allow",
          "git diff *": "allow",
          "git show *": "ask",
          "git status": "allow",
          "npm test": "ask",
          "npm run build": "ask",
          "npm run lint": "ask",
          "git commit": "deny",
          "git reset *": "deny",
          "git push *": "deny",
          "rm *": "deny"
        }
      }
    },
    "librarian": {
      "mode": "subagent",
      "model": "firmware/gpt-5.2",
      "prompt": "{file:./prompt/librarian.md}",
      "permission": {
        "bash": {
          "*": "deny"
        }
      }
    },
    "explore": {
      "model": "firmware/gpt-5.2"
    }
  }
}
